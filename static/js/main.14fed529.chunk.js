(this["webpackJsonpcurrency-app"]=this["webpackJsonpcurrency-app"]||[]).push([[0],{111:function(e,t,r){},136:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(30),s=r.n(c),i=(r(111),r(69)),o=r.n(i),u=r(210),j=r(208),l=r(211),d=r(212),b=r(213),h=r(214),O=r(55),p=r(14),x=r(13),f=r(64),g=r.n(f),v=r(194),C=r(19),m=r(20),E=r(58),R=r.n(E),y=R.a.create({method:"GET",baseURL:"https://currency-exchange.p.rapidapi.com/exchange",headers:{"x-rapidapi-host":"currency-exchange.p.rapidapi.com","x-rapidapi-key":"e817d06739mshe406e098177e879p147060jsn4742de4ee977"}}),S=function(e,t,r){return y.get("",{params:{from:e,to:t,q:r}})},T={error:"",isLoading:!1},A=function(e){return{type:"APP/SET-ERROR",error:e}},N=function(e){return{type:"APP/SET-IS-LOADING",isLoading:e}},U={convertValues:{from:"",to:""},result:0},P=r(2),L=function(){var e=Object(C.c)((function(e){return e.conversion.result})),t=Object(C.c)((function(e){return e.conversion.convertValues.to})),r=Object(C.b)(),n=navigator.language||navigator.userAgent;console.log(n);var c=/^[0-9]{1,9}\s[A-Z]{3}\s[A-Z]{2}\s[A-Z]{3}$/i,s=/^[0-9]{1,9}/,i=/[A-Z]{3}/,o=/\s[A-Z]{2}\s/,u=/[A-Z]{3}$/,j=Object(a.useState)(""),l=Object(x.a)(j,2),d=l[0],b=l[1],h=Object(a.useState)(""),O=Object(x.a)(h,2),p=O[0],f=O[1];return Object(P.jsx)("div",{className:g.a.currWrapper,children:Object(P.jsxs)("div",{className:g.a.currCard,children:[Object(P.jsx)(v.a,{onKeyPress:function(e){if("Enter"===e.key)if(c.test(d)){var t=d.slice(d.search(s),d.search(i)-d.search(s)),a=d.slice(d.search(i),d.search(o)),n=d.slice(d.search(u),d.length);r(function(e,t,r){return function(a){a(N(!0)),S(e,t,r).then((function(n){a(N(!1));var c=n.data;a(function(e){return{type:"CONVERSION/SET-RESULT",result:e}}(Math.ceil(+r*c))),a({type:"CONVERSION/CONVERT-CURRENCY",payload:{from:e,to:t,amount:r}})})).catch((function(e){a(N(!1)),a(A(e.message))}))}}(a,n,t.trim())),f("success")}else f("error")},fullWidth:!0,error:"error"===p,label:"Enter values",onChange:function(e){c.test(e.currentTarget.value)?(b(e.currentTarget.value.toUpperCase()),f("")):b(e.currentTarget.value.toUpperCase())},variant:"standard",placeholder:"Example: 15 usd in rub",helperText:"error"===p?"Incorrect value":"",value:d}),Object(P.jsxs)("div",{className:g.a.resultContainer,children:[Object(P.jsx)("span",{children:e&&e}),Object(P.jsx)("span",{children:t})]})]})})},w=r(201),I=r(203),_=r(207),k=r(206),W=r(202),V=r(204),B=r(190),Z=r(205),D=r(195),G=r(196),F=r(188),H=r(192),Y=R.a.create({method:"GET",baseURL:"https://exchangerate-api.p.rapidapi.com/rapid/latest/",headers:{"x-rapidapi-host":"exchangerate-api.p.rapidapi.com","x-rapidapi-key":"e817d06739mshe406e098177e879p147060jsn4742de4ee977"}}),J=function(e){return Y.get("".concat(e))},M={baseCode:"ru-RU"===navigator.language?"RUB":"USD",rates:{}},$=function(e){return function(t){t(N(!0)),J(e).then((function(r){t(N(!1));var a=r.data.rates;delete a[e],t(function(e){return{type:"RATES/SET-RATES",rates:e}}(a)),t({type:"RATES/CHANGE-BASE-CURRENCY",baseCurrency:e})})).catch((function(e){t(N(!1)),t(A(e.message))}))}},q=function(){var e=Object(C.c)((function(e){return e.rates.baseCode})),t=Object(C.b)();return Object(P.jsxs)(D.a,{variant:"standard",sx:{m:1,minWidth:120},children:[Object(P.jsx)(G.a,{children:"Base currency"}),Object(P.jsxs)(F.a,{value:e,onChange:function(e){t($(e.target.value))},label:"Base currency",children:[Object(P.jsx)(H.a,{value:"USD",children:"USD"}),Object(P.jsx)(H.a,{value:"EUR",children:"EUR"}),Object(P.jsx)(H.a,{value:"RUB",children:"RUB"})]})]})},z=function(){var e=Object(C.c)((function(e){return e.rates.baseCode})),t=Object(C.c)((function(e){return e.rates.rates})),r=Object(C.b)();Object(a.useEffect)((function(){r($(e))}),[]);var n=[{id:"name",label:e,minWidth:70},{id:"code",label:"Rate",minWidth:20}],c=Object(a.useState)(0),s=Object(x.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(10),j=Object(x.a)(u,2),l=j[0],d=j[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(q,{}),Object(P.jsxs)(w.a,{sx:{width:"40%",overflow:"hidden"},children:[Object(P.jsx)(W.a,{sx:{maxHeight:440},children:Object(P.jsxs)(I.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(P.jsx)(V.a,{children:Object(P.jsx)(Z.a,{children:n.map((function(e){return Object(P.jsx)(k.a,{align:e.align,style:{minWidth:e.minWidth,fontSize:"16px"},children:e.label},e.id)}))})}),Object(P.jsx)(_.a,{children:Object.keys(t).map((function(r){return Object(P.jsxs)(Z.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(P.jsxs)(k.a,{align:n[0].align,children:["1 ",e]},n[0].id),Object(P.jsxs)(k.a,{children:[t[r]," ",r]},n[1].id)]},r)}))})]})}),Object(P.jsx)(B.a,{rowsPerPageOptions:[10,25,100],component:"div",count:Object.keys(t).length,rowsPerPage:l,page:i,onPageChange:function(e,t){o(t)},onRowsPerPageChange:function(e){d(+e.target.value),o(0)}})]})]})},K=r(187),Q=r(193),X=r(191),ee=n.a.forwardRef((function(e,t){return Object(P.jsx)(X.a,Object(m.a)({elevation:6,ref:t,variant:"filled"},e))}));function te(){var e=Object(C.c)((function(e){return e.app.error})),t=Object(C.b)(),r=function(e,r){"clickaway"!==r&&t(A(""))};return Object(P.jsx)(K.a,{spacing:2,sx:{width:"100%"},children:Object(P.jsx)(Q.a,{open:!!e,autoHideDuration:4e3,onClose:r,children:Object(P.jsx)(ee,{onClose:r,severity:"error",sx:{width:"100%"},children:e})})})}function re(){var e=Object(C.c)((function(e){return e.app.isLoading}));return Object(P.jsxs)("div",{className:o.a.appWrapper,children:[Object(P.jsx)(u.a,{position:"static",children:Object(P.jsxs)(j.a,{style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(P.jsx)(l.a,{variant:"h6",children:"Simple currency exchange"}),Object(P.jsx)(O.b,{to:"/",children:Object(P.jsx)(d.a,{variant:"text",color:"inherit",children:"Currency exchange"})}),Object(P.jsx)(O.b,{to:"/rates",children:Object(P.jsx)(d.a,{variant:"text",color:"inherit",children:"Latest Rates"})})]})}),e&&Object(P.jsx)(b.a,{sx:{width:"100%"},children:Object(P.jsx)(h.a,{})}),Object(P.jsxs)(p.c,{children:[Object(P.jsx)(p.a,{path:"/",element:Object(P.jsx)(L,{})}),Object(P.jsx)(p.a,{path:"/rates",element:Object(P.jsx)(z,{})})]}),Object(P.jsx)(te,{})]})}var ae=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,215)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},ne=r(66),ce=r(94),se=Object(ne.b)({conversion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONVERSION/CONVERT-CURRENCY":return Object(m.a)(Object(m.a)({},e),{},{convertValues:Object(m.a)({},t.payload)});case"CONVERSION/SET-RESULT":return Object(m.a)(Object(m.a)({},e),{},{result:t.result});default:return e}},rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RATES/CHANGE-BASE-CURRENCY":return Object(m.a)(Object(m.a)({},e),{},{baseCode:t.baseCurrency});case"RATES/SET-RATES":return Object(m.a)(Object(m.a)({},e),{},{rates:Object(m.a)({},t.rates)});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return"APP/SET-IS-LOADING"===t.type?Object(m.a)(Object(m.a)({},e),{},{isLoading:t.isLoading}):e}}),ie=Object(ne.c)(se,Object(ne.a)(ce.a));s.a.render(Object(P.jsx)(n.a.StrictMode,{children:Object(P.jsx)(O.a,{basename:"/",children:Object(P.jsx)(C.a,{store:ie,children:Object(P.jsx)(re,{})})})}),document.getElementById("root")),ae()},64:function(e,t,r){e.exports={currCard:"ExchangeCard_currCard__1LmxV",resultContainer:"ExchangeCard_resultContainer__2_hCS"}},69:function(e,t,r){e.exports={appWrapper:"App_appWrapper__3N15s",currWrapper:"App_currWrapper__ZkNxZ"}}},[[136,1,2]]]);
//# sourceMappingURL=main.14fed529.chunk.js.map