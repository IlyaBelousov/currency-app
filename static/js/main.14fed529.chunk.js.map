{"version":3,"sources":["dal/exchange-api.ts","bll/app-reducer.ts","bll/conversion-reducer.ts","ui/ExchangeCard.tsx","dal/latest-rates-api.ts","bll/rates-reducer.ts","ui/SuperSelect.tsx","ui/LatestRates.tsx","ui/ErrorSnackBar.tsx","App.tsx","reportWebVitals.ts","bll/store.ts","index.tsx","ui/ExchangeCard.module.css","App.module.css"],"names":["instance","axios","create","method","baseURL","headers","exchangeAPI","from","to","q","get","params","initialState","error","isLoading","setError","type","setIsLoading","convertValues","result","ExchangeCard","useSelector","state","conversion","currency","dispatch","useDispatch","userLang","navigator","language","userAgent","console","log","exchangePattern","amount","mid","useState","value","setValue","className","s","currWrapper","currCard","TextField","onKeyPress","e","key","test","amountw","slice","search","fromCurrency","toCurr","length","then","response","data","setResult","Math","ceil","payload","catch","message","convertCurrency","trim","fullWidth","label","onChange","currentTarget","toUpperCase","variant","placeholder","helperText","resultContainer","latestRates","currencyCode","baseCode","rates","fetchLatestRates","setRates","baseCurrency","SuperSelect","FormControl","sx","m","minWidth","InputLabel","Select","event","target","MenuItem","LatestRates","useEffect","columns","id","page","setPage","rowsPerPage","setRowsPerPage","Paper","width","overflow","TableContainer","maxHeight","Table","stickyHeader","TableHead","TableRow","map","column","TableCell","align","style","fontSize","TableBody","Object","keys","row","hover","role","tabIndex","TablePagination","rowsPerPageOptions","component","count","onPageChange","newPage","onRowsPerPageChange","Alert","React","forwardRef","props","ref","elevation","ErrorSnackBar","app","handleClose","reason","Stack","spacing","Snackbar","open","autoHideDuration","onClose","severity","App","appWrapper","AppBar","position","Toolbar","justifyContent","alignItems","Typography","Button","color","Box","LinearProgress","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","basename","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.14fed529.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    method: 'GET',\r\n    baseURL: 'https://currency-exchange.p.rapidapi.com/exchange',\r\n    headers: {\r\n        'x-rapidapi-host': 'currency-exchange.p.rapidapi.com',\r\n        'x-rapidapi-key': 'e817d06739mshe406e098177e879p147060jsn4742de4ee977'\r\n    }\r\n})\r\n\r\nexport const exchangeAPI = {\r\n    getCurrencies(from: string, to: string, q: string) {\r\n        return instance.get<number>(``, {params: {from, to, q}})\r\n    }\r\n}","const initialState = {\r\n    error: '',\r\n    isLoading: false\r\n}\r\ntype initialStateType = typeof initialState\r\nexport const appReducer = (state: initialStateType = initialState, action: AppActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case \"APP/SET-IS-LOADING\": {\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setError = (error: string) => {\r\n    return {\r\n        type: 'APP/SET-ERROR',\r\n        error\r\n    } as const\r\n}\r\n\r\nexport const setIsLoading = (isLoading: boolean) => {\r\n    return {\r\n        type: 'APP/SET-IS-LOADING',\r\n        isLoading\r\n    } as const\r\n}\r\nexport type AppActionsType = ReturnType<typeof setIsLoading>|ReturnType<typeof setError>","import {exchangeAPI} from \"../dal/exchange-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AxiosError} from \"axios\";\r\nimport {AppActionsType, setError, setIsLoading} from \"./app-reducer\";\r\n\r\n\r\nconst initialState = {\r\n    convertValues: {\r\n        from: '',\r\n        to: '',\r\n    },\r\n    result: 0\r\n}\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const conversionReducer = (state: InitialStateType = initialState, action: ConvertActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'CONVERSION/CONVERT-CURRENCY': {\r\n            debugger\r\n            return {\r\n                ...state,\r\n                convertValues: {...action.payload},\r\n            }\r\n        }\r\n        case \"CONVERSION/SET-RESULT\":{\r\n            debugger\r\n            return {\r\n                ...state,\r\n                result: action.result\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//actions\r\nconst setCurrency = (payload: { from: string, to: string, amount: string }) => {\r\n    return {\r\n        type: 'CONVERSION/CONVERT-CURRENCY',\r\n        payload,\r\n    } as const\r\n}\r\nconst setResult = ( result: number) => {\r\n    return {\r\n        type: 'CONVERSION/SET-RESULT',\r\n        result\r\n    } as const\r\n}\r\n\r\nexport type ConvertActionsType =\r\n    ReturnType<typeof setCurrency>\r\n    | ReturnType<typeof setResult>\r\n    | AppActionsType\r\n\r\n//thunk\r\nexport const convertCurrency = (from: string, to: string, amount: string) => (dispatch: Dispatch) => {\r\n    dispatch(setIsLoading(true))\r\n    exchangeAPI.getCurrencies(from, to, amount)\r\n        .then(response => {\r\n            dispatch(setIsLoading(false))\r\n            let result = response.data;\r\n            dispatch(setResult(Math.ceil(+amount*result)))\r\n            dispatch(setCurrency({from, to, amount}))\r\n        })\r\n        .catch((error: AxiosError) => {\r\n            dispatch(setIsLoading(false))\r\n            dispatch(setError(error.message))\r\n        })\r\n}","import React, {ChangeEvent, KeyboardEvent, useState} from 'react';\r\nimport s from \"./ExchangeCard.module.css\";\r\nimport {TextField} from \"@mui/material\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../bll/store\";\r\nimport {convertCurrency} from \"../bll/conversion-reducer\";\r\n\r\nexport const ExchangeCard = () => {\r\n    const result = useSelector<AppRootStateType,number>(state=>state.conversion.result)\r\n    const currency = useSelector<AppRootStateType,string>(state=>state.conversion.convertValues.to)\r\n    const dispatch = useDispatch()\r\n    const userLang = navigator.language || navigator.userAgent;\r\n    console.log(userLang);\r\n\r\n    const exchangePattern = /^[0-9]{1,9}\\s[A-Z]{3}\\s[A-Z]{2}\\s[A-Z]{3}$/i\r\n    let amount = /^[0-9]{1,9}/\r\n    let from =/[A-Z]{3}/\r\n    let mid = /\\s[A-Z]{2}\\s/\r\n    let to  = /[A-Z]{3}$/\r\n    const [value, setValue] = useState('')\r\n    const [error, setError] = useState('')\r\n    const onChangeHandler = (e: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n        if (exchangePattern.test(e.currentTarget.value)) {\r\n            setValue(e.currentTarget.value.toUpperCase())\r\n            setError('')\r\n        }\r\n        else {\r\n            setValue(e.currentTarget.value.toUpperCase())\r\n        }\r\n    }\r\n    const onKeyPressHandler = (e:KeyboardEvent<HTMLInputElement>) => {\r\n        if(e.key === 'Enter'){\r\n            if (exchangePattern.test(value)) {\r\n                let amountw = value.slice(value.search(amount),(value.search(from)-value.search(amount)))\r\n                let fromCurrency = value.slice(value.search(from),value.search(mid))\r\n                let toCurr = value.slice(value.search(to),value.length)\r\n                dispatch(convertCurrency(fromCurrency,toCurr,amountw.trim()))\r\n                setError('success')\r\n            }\r\n            else {\r\n                setError('error')\r\n            }\r\n        }\r\n    }\r\n    return <div className={s.currWrapper}>\r\n        <div className={s.currCard}>\r\n            <TextField\r\n                onKeyPress={onKeyPressHandler}\r\n                fullWidth\r\n                error={error==='error'}\r\n                label={'Enter values'}\r\n                onChange={onChangeHandler}\r\n                variant={'standard'}\r\n                placeholder={'Example: 15 usd in rub'}\r\n                helperText={error==='error'?'Incorrect value':''}\r\n                value={value}\r\n            />\r\n            <div className={s.resultContainer}>\r\n                <span>{result&&result }</span><span>{currency}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\n","import axios from \"axios\";\r\n\r\n\r\nexport type RateType = {\r\n    [key: string]: number;\r\n};\r\nexport type RatesResponseType = {\r\n    base_code: RateType\r\n    rates: RateType\r\n    result: string\r\n}\r\n\r\nexport const instance = axios.create({\r\n    method: 'GET',\r\n    baseURL: 'https://exchangerate-api.p.rapidapi.com/rapid/latest/',\r\n    headers: {\r\n        'x-rapidapi-host': 'exchangerate-api.p.rapidapi.com',\r\n        'x-rapidapi-key': 'e817d06739mshe406e098177e879p147060jsn4742de4ee977'\r\n    }\r\n})\r\nexport const latestRates = {\r\n    getRates(currencyCode: string) {\r\n        return instance.get<RatesResponseType>(`${currencyCode}`)\r\n    }\r\n}","import {latestRates, RateType} from \"../dal/latest-rates-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AxiosError} from \"axios\";\r\nimport {AppActionsType, setError, setIsLoading} from \"./app-reducer\";\r\n\r\nconst initialState = {\r\n    baseCode: navigator.language === 'ru-RU' ? 'RUB' : 'USD',\r\n    rates: {} as RateType\r\n}\r\ntype initialStateType = typeof initialState\r\n\r\nexport const ratesReducer = (state: initialStateType = initialState, action: ActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case \"RATES/CHANGE-BASE-CURRENCY\": {\r\n            return {\r\n                ...state,\r\n                baseCode: action.baseCurrency\r\n            }\r\n        }\r\n        case \"RATES/SET-RATES\": {\r\n            return {\r\n                ...state,\r\n                rates: {...action.rates}\r\n            }\r\n        }\r\n\r\n        default :\r\n            return state\r\n    }\r\n}\r\n//actions\r\nexport const changeBaseCurrency = (baseCurrency: string) => {\r\n    return {\r\n        type: 'RATES/CHANGE-BASE-CURRENCY',\r\n        baseCurrency\r\n    } as const\r\n}\r\nexport const setRates = (rates: RateType) => {\r\n    return {\r\n        type: 'RATES/SET-RATES',\r\n        rates\r\n    } as const\r\n}\r\n\r\n\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof changeBaseCurrency>\r\n    | ReturnType<typeof setRates>\r\n    | AppActionsType\r\n//thunk\r\nexport const fetchLatestRates = (currencyCode: string) => (dispatch: Dispatch<ActionsType>) => {\r\n    dispatch(setIsLoading(true))\r\n    latestRates.getRates(currencyCode)\r\n        .then(response => {\r\n            dispatch(setIsLoading(false))\r\n            let rates = response.data.rates\r\n            delete rates[currencyCode]\r\n            dispatch(setRates(rates))\r\n            dispatch(changeBaseCurrency(currencyCode))\r\n        })\r\n        .catch((error: AxiosError) => {\r\n            dispatch(setIsLoading(false))\r\n            dispatch(setError(error.message))\r\n        })\r\n}","import React, {useState} from 'react';\r\nimport {FormControl, InputLabel, MenuItem, Select, SelectChangeEvent} from \"@mui/material\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../bll/store\";\r\nimport {fetchLatestRates} from \"../bll/rates-reducer\";\r\n\r\n\r\nexport const SuperSelect = () => {\r\n    const baseCurrency = useSelector<AppRootStateType, string>(state => state.rates.baseCode)\r\n    const dispatch = useDispatch()\r\n    const handleChange = (event: SelectChangeEvent) => {\r\n        dispatch(fetchLatestRates(event.target.value))\r\n    };\r\n    return <FormControl variant=\"standard\" sx={{m: 1, minWidth: 120}}>\r\n        <InputLabel>Base currency</InputLabel>\r\n        <Select\r\n            value={baseCurrency}\r\n            onChange={handleChange}\r\n            label={'Base currency'}\r\n        >\r\n            <MenuItem value={'USD'}>USD</MenuItem>\r\n            <MenuItem value={'EUR'}>EUR</MenuItem>\r\n            <MenuItem value={'RUB'}>RUB</MenuItem>\r\n        </Select>\r\n    </FormControl>\r\n};\r\n\r\n","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport Paper from '@mui/material/Paper';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport {latestRates, RateType} from \"../dal/latest-rates-api\";\r\nimport {SuperSelect} from \"./SuperSelect\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../bll/store\";\r\nimport {fetchLatestRates} from \"../bll/rates-reducer\";\r\n\r\n\r\ninterface Column {\r\n    id: 'name' | 'code';\r\n    label: string;\r\n    minWidth?: number;\r\n    align?: 'right';\r\n    format?: (value: number) => string;\r\n}\r\n\r\nexport const LatestRates = () => {\r\n    const baseCurrency = useSelector<AppRootStateType, string>(state => state.rates.baseCode)\r\n    const rates = useSelector<AppRootStateType, RateType>(state => state.rates.rates)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(fetchLatestRates(baseCurrency))\r\n    }, [])\r\n    const columns: readonly Column[] = [\r\n        {id: 'name', label: baseCurrency, minWidth: 70},\r\n        {id: 'code', label: 'Rate', minWidth: 20},\r\n\r\n    ];\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n    const handleChangePage = (event: unknown, newPage: number) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event: ChangeEvent<HTMLInputElement>) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    return <>\r\n        <SuperSelect/>\r\n        <Paper sx={{width: '40%', overflow: 'hidden'}}>\r\n            <TableContainer sx={{maxHeight: 440}}>\r\n                <Table stickyHeader aria-label=\"sticky table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            {columns.map((column) => (\r\n                                <TableCell\r\n                                    key={column.id}\r\n                                    align={column.align}\r\n                                    style={{minWidth: column.minWidth, fontSize: '16px'}}\r\n                                >\r\n                                    {column.label}\r\n                                </TableCell>\r\n                            ))}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {Object.keys(rates)\r\n                            .map((row) => {\r\n                                return (\r\n                                    <TableRow hover role=\"checkbox\" tabIndex={-1} key={row}>\r\n                                        {\r\n                                            <TableCell key={columns[0].id} align={columns[0].align}>\r\n                                                {'1 '}{baseCurrency}\r\n                                            </TableCell>\r\n                                        }\r\n                                        {<TableCell key={columns[1].id} >\r\n                                            {rates[row]} {row}\r\n                                        </TableCell>\r\n                                        }\r\n                                    </TableRow>\r\n                                );\r\n                            })\r\n                        }\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n                rowsPerPageOptions={[10, 25, 100]}\r\n                component=\"div\"\r\n                count={Object.keys(rates).length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={handleChangePage}\r\n                onRowsPerPageChange={handleChangeRowsPerPage}\r\n            />\r\n        </Paper>\r\n    </>\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport Stack from '@mui/material/Stack';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert, { AlertProps } from '@mui/material/Alert';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../bll/store\";\r\nimport {setError} from \"../bll/app-reducer\";\r\n\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n    props,\r\n    ref,\r\n) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport function ErrorSnackBar() {\r\n    const error = useSelector<AppRootStateType, string>(state=>state.app.error)\r\n    const dispatch = useDispatch()\r\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch(setError(''))\r\n    };\r\n\r\n    return (\r\n        <Stack spacing={2} sx={{ width: '100%' }}>\r\n            <Snackbar open={!!error} autoHideDuration={4000} onClose={handleClose}>\r\n                <Alert\r\n                    onClose={handleClose}\r\n                    severity=\"error\"\r\n                    sx={{ width: '100%' }}>\r\n                    {error}\r\n                </Alert>\r\n            </Snackbar>\r\n        </Stack>\r\n    );\r\n}","import React from 'react';\nimport './App.module.css';\nimport s from './App.module.css'\nimport {AppBar, Box, Button, Container, LinearProgress, Toolbar, Typography} from \"@mui/material\";\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {ExchangeCard} from \"./ui/ExchangeCard\";\nimport {LatestRates} from \"./ui/LatestRates\";\nimport {useSelector} from \"react-redux\";\nimport {AppRootStateType} from \"./bll/store\";\nimport {ErrorSnackBar} from \"./ui/ErrorSnackBar\";\n\n\nexport function App() {\n    const isLoading = useSelector<AppRootStateType, boolean>(state => state.app.isLoading)\n    return <div className={s.appWrapper}>\n        <AppBar position={'static'}>\n            <Toolbar style={{justifyContent: 'space-evenly', alignItems: 'center'}}>\n                <Typography variant={'h6'}>\n                    Simple currency exchange\n                </Typography>\n                <Link to={'/'}>\n                    <Button\n                        variant={\"text\"} color={'inherit'}>Currency\n                        exchange</Button>\n                </Link>\n                <Link to={'/rates'}>\n                    <Button\n                        variant={\"text\"} color={'inherit'}>Latest\n                        Rates</Button>\n                </Link>\n            </Toolbar>\n        </AppBar>\n        {isLoading && <Box sx={{width: '100%'}}>\n            <LinearProgress/>\n        </Box>}\n        <Routes>\n            <Route path={'/'} element={<ExchangeCard/>}/>\n            <Route path={'/rates'} element={<LatestRates/>}/>\n        </Routes>\n        <ErrorSnackBar/>\n    </div>\n}\n\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {conversionReducer} from \"./conversion-reducer\";\r\nimport {ratesReducer} from \"./rates-reducer\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    conversion: conversionReducer,\r\n    rates:ratesReducer,\r\n    app:appReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer,applyMiddleware(thunk))\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./bll/store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter basename={'/'}>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currCard\":\"ExchangeCard_currCard__1LmxV\",\"resultContainer\":\"ExchangeCard_resultContainer__2_hCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__3N15s\",\"currWrapper\":\"App_currWrapper__ZkNxZ\"};"],"sourceRoot":""}